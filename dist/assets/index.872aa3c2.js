import{P as s,_ as t}from"./lodash.a307839a.js";import{d as o}from"./db.35f8e1ca.js";import{_ as a,e as r,o as e,c as i,b as n,d,g as l,w as c,x as p,y as u,F as h,r as f,t as v}from"./index.93bb8291.js";const m={class:"wrapper"},w={class:"card searchbox"},y=["onClick"],k={class:"ras"},b={class:"tag"},_={class:"content"},g={class:"indicate"},x={class:"root-wrapper"},C={class:"ras"},P={class:"tag"},j={class:"content"},L={class:"indicate"},D=["onClick"],q={class:"ras-word-info"},O={class:"ras-word-dec"},R=["src"];const $=a({name:"root",components:{Popup:s},data:()=>({keyword:"",roots:[],visible:!1,study:!1,root:{parts:"",ras_content:"",ras_indicate:"",root:"",tag:""},frameword:""}),computed:{filterdList(){return this.roots.filter((s=>s.ras_content.indexOf(this.keyword)>-1))},studyLink(){return this.frameword?"https://dict.youdao.com/result?word="+this.frameword+"&lang=en":""}},methods:{learn(s){this.frameword=s,this.study=!0},visitPop(s){this.root=t.cloneDeep(s),this.root.parts=JSON.parse(s.parts),this.visible=!0},getRootsData(){fetch("https://archive.v2k.fun/roots.json").then((s=>s.json())).then((s=>{var t;this.keyword=(null==(t=this.$route.query)?void 0:t.k)||"",this.roots=s,o.root.bulkPut(s)}))}},mounted(){o.root.toArray((s=>{var t;s&&s.length>0?(this.keyword=(null==(t=this.$route.query)?void 0:t.k)||"",this.roots=s):this.getRootsData()}))}},[["render",function(s,t,o,a,$,A){const F=r("router-link"),I=r("Popup");return e(),i("div",m,[n("div",w,[n("h3",null,[d(" 词根列表 "),l(F,{to:"/"},{default:c((()=>[d("返回")])),_:1})]),p(n("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>$.keyword=s),placeholder:"输入词根查询"},null,512),[[u,$.keyword]])]),(e(!0),i(h,null,f(A.filterdList,(s=>(e(),i("div",{class:"card rootbox",key:s.root,onClick:t=>A.visitPop(s)},[n("p",k,[n("span",b,v(s.tag),1),n("span",_,v(s.ras_content),1),n("span",g,v(s.ras_indicate),1)])],8,y)))),128)),l(I,{onClose:t[1]||(t[1]=s=>$.visible=!1),visible:$.visible},{default:c((()=>[n("div",x,[n("p",C,[n("span",P,v($.root.tag),1),n("span",j,v($.root.ras_content),1),n("span",L,v($.root.ras_indicate),1)]),(e(!0),i(h,null,f($.root.parts,(s=>(e(),i("div",{class:"ras-word",key:s.word,onClick:t=>A.learn(s.word)},[n("p",q,v(s.p)+" "+v(s.word)+" "+v(s.d),1),n("p",O,v(s.dec),1)],8,D)))),128))])])),_:1},8,["visible"]),l(I,{onClose:t[2]||(t[2]=s=>$.study=!1),visible:$.study},{default:c((()=>[n("iframe",{class:"frame",src:A.studyLink,frameborder:"0"},null,8,R)])),_:1},8,["visible"])])}],["__scopeId","data-v-3b2efcdf"]]);export{$ as default};
