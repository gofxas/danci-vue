import{_ as s,s as o,m as t,a as e,u as i,j as c,o as a,c as n,b as k,n as l,F as d,r,k as h,w as b,t as u,d as v}from"./index.e61707de.js";const p={name:"books",data:()=>({checked:"全部",tags:[]}),computed:{...o("book",["books"]),...t("book",["process"]),booklist(){return"全部"===this.checked?this.books:this.books.filter((s=>s.tags.includes(this.checked)))}},methods:{...e("book",["setActive"]),...i("ui",["setAppLoading"]),switchBook(s){this.setAppLoading(!0),this.setActive(s).then((()=>{this.setAppLoading(!1),this.$router.push("/")}))}},mounted(){fetch("/tags.json").then((s=>s.json())).then((s=>{this.tags=s})),this.$store.dispatch("book/getBooks")}},g={class:"taglist"},f=["onClick"],m={class:"booklist"},j=["onClick"],A={class:"bookcover"},C=["src"],y={key:1,class:"booknocover"},_={class:"bookinfo"},w={class:"booktitle"},B={class:"bookorigin"},L={class:"bookintroduce"},x={class:"bookfoot}"};const $=s(p,[["render",function(s,o,t,e,i,p){const $=c("router-link");return a(),n("div",null,[k("div",g,[k("span",{onClick:o[0]||(o[0]=s=>i.checked="全部"),class:l(["全部"==i.checked?"active":""])},"全部",2),(a(!0),n(d,null,r(i.tags,(s=>(a(),n("span",{key:s,onClick:o=>i.checked=s,class:l([i.checked==s?"active":""])},u(s),11,f)))),128)),h($,{class:"active",to:"/"},{default:b((()=>[v("继续学习")])),_:1})]),k("div",m,[(a(!0),n(d,null,r(p.booklist,(s=>(a(),n("div",{class:"book",key:s.id,onClick:o=>p.switchBook(s.id)},[k("div",A,[s.cover?(a(),n("img",{key:0,src:s.cover},null,8,C)):(a(),n("div",y,u(s.title),1))]),k("div",_,[k("p",w,u(s.title),1),k("p",B,u(s.origin),1),k("p",L,u(s.introduce),1),k("div",x,[k("div",null,u(s.tags.join(",")),1)])])],8,j)))),128))])])}],["__scopeId","data-v-21a0392a"]]);export{$ as default};
