import{P as s,_ as t}from"./lodash.631eed3c.js";import{d as o}from"./db.35f8e1ca.js";import{_ as r,e as a,o as e,c as i,b as n,d,g as l,w as c,x as p,y as u,F as h,r as f,t as v}from"./index.eb0b1153.js";const y={class:"wrapper"},m={class:"card searchbox"},w=["onClick"],k={class:"ras"},b={class:"tag"},_={class:"content",style:{color:"#57c3c2","margin-right":"5px"}},g={class:"content"},x={class:"indicate"},C={class:"root-wrapper"},P={class:"ras"},j={class:"tag"},L={class:"content"},D={class:"indicate"},q=["onClick"],O={class:"ras-word-info"},R={class:"ras-word-dec"},$=["src"];const A=r({name:"root",components:{Popup:s},data:()=>({keyword:"",roots:[],visible:!1,study:!1,root:{parts:"",ras_content:"",ras_indicate:"",root:"",tag:""},frameword:""}),computed:{filterdList(){return this.keyword?this.roots.filter((s=>s.ras_content.indexOf(this.keyword)>-1)):this.roots},studyLink(){return this.frameword?"https://dict.youdao.com/result?word="+this.frameword+"&lang=en":""}},methods:{learn(s){this.frameword=s,this.study=!0},visitPop(s){this.root=t.cloneDeep(s),this.root.parts=JSON.parse(s.parts),this.visible=!0},getRootsData(){fetch("https://archive.v2k.fun/roots.json").then((s=>s.json())).then((s=>{var t;this.keyword=(null==(t=this.$route.query)?void 0:t.k)||"",this.roots=s,o.root.bulkPut(s)}))}},mounted(){o.root.toArray((s=>{var t;s&&s.length>0?(this.keyword=(null==(t=this.$route.query)?void 0:t.k)||"",this.roots=s):this.getRootsData()}))}},[["render",function(s,t,o,r,A,F){const I=a("router-link"),J=a("Popup");return e(),i("div",y,[n("div",m,[n("h3",null,[d(" 词根列表 "),l(I,{to:"/"},{default:c((()=>[d("返回")])),_:1})]),p(n("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>A.keyword=s),placeholder:"输入词根查询"},null,512),[[u,A.keyword]])]),(e(!0),i(h,null,f(F.filterdList,(s=>(e(),i("div",{class:"card rootbox",key:s.root,onClick:t=>F.visitPop(s)},[n("p",k,[n("span",b,v(s.tag),1),n("span",_,v(s.root),1),n("span",g,v(s.ras_content),1),n("span",x,v(s.ras_indicate),1)])],8,w)))),128)),l(J,{onClose:t[1]||(t[1]=s=>A.visible=!1),visible:A.visible},{default:c((()=>[n("div",C,[n("p",P,[n("span",j,v(A.root.tag),1),n("span",L,v(A.root.ras_content),1),n("span",D,v(A.root.ras_indicate),1)]),(e(!0),i(h,null,f(A.root.parts,(s=>(e(),i("div",{class:"ras-word",key:s.word,onClick:t=>F.learn(s.word)},[n("p",O,v(s.p)+" "+v(s.word)+" "+v(s.d),1),n("p",R,v(s.dec),1)],8,q)))),128))])])),_:1},8,["visible"]),l(J,{onClose:t[2]||(t[2]=s=>A.study=!1),visible:A.study},{default:c((()=>[n("iframe",{class:"frame",src:F.studyLink,frameborder:"0"},null,8,$)])),_:1},8,["visible"])])}],["__scopeId","data-v-b95801ca"]]);export{A as default};
